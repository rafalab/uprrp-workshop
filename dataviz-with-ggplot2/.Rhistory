install.packages("dslabs")
library(dslabs)
data("murders")
murders
View(murders)
library(tidyverse)
ggplot(data = murders)
x <- 2
x
p <- ggplot(data = murders)
p
print(p)
p
class(p)
4 %>% sqrt()
16 %>% sqrt()
sin(log2(sqrt(4)))
4 %>% sqrt() %>% log() %>% sin()
4 %>% sqrt() %>% log2() %>% sin()
murdes %>% ggplot()
murders %>% ggplot()
p <- murders %>% ggplot()
?geom_point
population
total
murders %>% ggplot() +
geom_point(aes(x = population/10^6, y = total))
p
p + geom_point(aes(population/10^6, total))
p_test <- p +
geom_text(aes(population/10^6, total, label = abb))
p_test
p_test <- p + geom_text(aes(population/10^6, total), label = abb)
p + geom_point(aes(population/10^6, total), size = 3) +
geom_text(aes(population/10^6, total, label = abb))
p + geom_point(aes(population/10^6, total), size = 3) +
geom_text(aes(population/10^6, total, label = abb), nudge_x = 1)
p + geom_point(aes(population/10^6, total), size = 3) +
geom_label(aes(population/10^6, total, label = abb), nudge_x = 1)
args(ggplot)
p <- murders %>% ggplot(aes(population/10^6, total, label = abb))
p
p + geom_point() + geom_text()
p + geom_point(size = 3) +
geom_text(nudge_x = 1.5)
p + geom_point() + geom_text(aes(label=abb))
p + geom_point() + geom_text(aes(label=state))
p + geom_point(size = 3) +
geom_text(aes(x = 10, y = 800, label = "Hello there!"))
p + geom_point(size = 3) +
geom_text(nudge_x = 0.05) +
scale_x_continuous(trans = "log10") +
scale_y_continuous(trans = "log10")
p + geom_point(size = 3) +
geom_text(nudge_x = 0.05) +
scale_x_log10() +
scale_y_log10()
p + geom_point(size = 3) +
geom_text(nudge_x = 0.05) +
scale_x_log10() +
scale_y_log10() +
xlab("Populations in millions (log scale)") +
ylab("Total number of murders (log scale)") +
ggtitle("US Gun Murders in 2010")
p <-  murders %>% ggplot(aes(population/10^6, total, label = abb)) +
geom_text(nudge_x = 0.05) +
scale_x_log10() +
scale_y_log10() +
xlab("Populations in millions (log scale)") +
ylab("Total number of murders (log scale)") +
ggtitle("US Gun Murders in 2010")
p
p + geom_point(size = 3, color ="blue")
p + geom_point(aes(col = region), size = 3)
r <- murders %>%
summarize(rate = sum(total) /  sum(population) * 10^6) %>% .$rate
r
p + geom_point(aes(col=region), size = 3) +
geom_abline(intercept = log10(r))
p <- p + geom_abline(intercept = log10(r), lty = 2, color = "darkgrey") +
geom_point(aes(col=region), size = 3)
p
p <- p + scale_color_discrete(name = "Region")
library(ggthemes)
p + theme_economist()
p + theme_fivethirtyeight()
## Now make the plot
murders %>% ggplot(aes(population/10^6, total, label = abb)) +
geom_abline(intercept = log10(r), lty = 2, color = "darkgrey") +
geom_point(aes(col=region), size = 3) +
geom_text_repel() +
scale_x_log10() +
scale_y_log10() +
xlab("Populations in millions (log scale)") +
ylab("Total number of murders (log scale)") +
ggtitle("US Gun Murders in 2010") +
scale_color_discrete(name = "Region") +
theme_economist()
library(ggrepel)
## Now make the plot
murders %>% ggplot(aes(population/10^6, total, label = abb)) +
geom_abline(intercept = log10(r), lty = 2, color = "darkgrey") +
geom_point(aes(col=region), size = 3) +
geom_text_repel() +
scale_x_log10() +
scale_y_log10() +
xlab("Populations in millions (log scale)") +
ylab("Total number of murders (log scale)") +
ggtitle("US Gun Murders in 2010") +
scale_color_discrete(name = "Region") +
theme_economist()
